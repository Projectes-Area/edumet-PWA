<!DOCTYPE html>
<html lang="ca">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
      <meta name="description" content="eduMET">
      <meta name="theme-color" content="#418ac8">
      <link rel="manifest" href="manifest.json">
      <link rel="stylesheet" type="text/css" href="css/index.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/weather-icons/2.0.10/css/weather-icons.min.css" />
      <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin=""/>
      <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js" integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og==" crossorigin=""></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
      <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
      <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
      <script src="https://cdn.jsdelivr.net/npm/exif-js"></script>
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <link rel="shortcut icon" type=”image/png” href="img/launcher-icon-1x.png">
      <title>eduMET</title>
    </head>
    <body >
      <div id="capsalera">
        <div id="div-icona-back"><i id="icona-back" class="material-icons icona-36" onClick="back()" title="Enrera">navigate_before</i></div>
        <div><img id="logo-edumet" src="img/edumet.png" alt="Logo eduMET"></div>
        <div id="div-icona-login"><i id="icona-login" class="material-icons icona-36" onClick="usuaris()" title="Usuari">person</i></div>
      </div>      
      <div id="login">
        <div id="iniciar">
          <label class="icona-16">INICIAR SESSIÓ</label>
        </div>        
        <div>
          <input class="marge icona-16" id="usuari" placeholder="usuari" type="text" name="usuari" autocomplete="username">
        </div>
        <div>
          <input class="marge icona-16" id="password" placeholder="contrasenya" type="password" name="contrasenya" autocomplete="new-password"><br>
        </div>
        <div>  
          <button id="valida" class="marge icona-16" onClick="valida();">ENTRA</button>
        </div>
      </div>
      <div id="fenologia">
        <div id="calendari" style="width:100%"></div>
        <div id="menu-botons">
          <button class="boto-sup" onClick="fesFoto()" title="Fer una foto"><i class="material-icons icona-36">add_a_photo</i></button>
          <button class="boto-sup" onClick="triaFoto()" title="Triar una foto"><i class="material-icons icona-36">attach_file</i></button>
          <button class="boto-sup" onClick="triaData()" title="Data i hora"><i class="material-icons icona-36">watch_later</i></button>
          <button class="boto-sup" onClick="triaLloc()" title="Ubicació"><i class="material-icons icona-36">location_on</i></button>
          <button class="boto-sup" onClick="actualitzaObservacio()" title="Penjar l'observació"><i class="material-icons icona-36">cloud_upload</i></button>
          <button class="boto-sup" onClick="observa()" title="Observacions realitzades"><i class="material-icons icona-36">assignment</i></button>
        </div>
        <div id="div_foto"> 
          <img id="foto" src= "img/launcher-icon-4x.png" onClick="fotografia();">
        </div>
        <div class="obs-fen">
          <select id="fenomen"></select> 
        </div>
        <div class="obs-desc">
          <textarea id="descripcio" placeholder="Escriu en aquest espai una breu descripció del fenomen observat." onKeyUp="if(this.value.length>250) this.value = this.value.slice(0, -1);"></textarea>
        </div>
      </div>
      <div id="fotografia">
        <img id="fotoGran" src="">
      </div>
      <div id="prediccio">
          <div id="loaderPrediccio" class="loader"></div>
          <iframe id='frame' src='' hspace='0' marginheight='0' marginwidth='0' vspace='0' frameborder='0' scrolling='no'></iframe>
      </div>
      <div id="radar">
        <div id="slideshow-container" class="slideshow-container"></div>         
        <div id="puntets"></div>
      </div>
      <div id="observacions">
        <div id="fila">
          <label style="width:25%"><b>FOTO</b></label>
          <label style="width:25%"><b>DATA</b></label>
          <label style="width:25%"><b>TIPUS</b></label>
          <label style="width:25%"><b>PENJADA</b></label>          
        </div>
        <div id="llistat"></div>
      </div>
      <div id="estacions">
        <div id="id_estacio">
          <i id="star" class="material-icons icona-36" style="color:lightgray" onClick="desaPreferida();">star_border</i>
          <select id="est_nom" onchange="selectEstacio()"></select>
        </div>
        <div id="header">
          <div id="nom_estacio">
            <div id="est_poblacio"></div>
            <div id="est_altitud"></div>
          </div>
          <div id="logoEstacio">
            <img id=est_logo src="">
          </div>
        </div>
        <div id="map"></div>
        <div id="mesurat">
          <div id="data_mesura"></div>
          <div class="mesures">
            <i class="wi wi-sunrise"></i><label id="sunrise"></label><i class="wi wi-sunset"></i><label id="sunset"></label>
          </div>
          <div class="mesures">
            <i class="wi wi-thermometer"></i><label id="temperatura"></label><i class="wi wi-barometer"></i><label id="pressio"></label>
          </div>
          <div class="mesures">
            <i class="wi wi-humidity"></i><label id="humitat"></label><i class="wi wi-umbrella"></i><label id="pluja"></label><i class="wi wi-strong-wind"></i><label id="vent"></label>
          </div>
        </div>  
      </div>

      <div id="fitxa">
        <div id="contingutFitxa">
          <div id="edicio_fitxa">
            <img id="fotoFitxa" src="" onClick="fotografia();">
            <div id="botons_edicio">
              <button id="edita_obs" class="boto-edit" style="color:#418ac8" onClick="editaObservacio()" title="Editar"><i class="material-icons icona-24">edit</i></button>
              <button id="elimina_obs" class="boto-edit" style="color:#418ac8" onClick="eliminaObservacio()" title="Eliminar"><i class="material-icons icona-24">delete_forever</i></button>
            </div>
          </div>
          <div id="desc_map_fitxa">
            <div id="nomFenomen" class="icona-16"></div>
            <div id="descripcioFitxa"></div>
            <div id="dataHora"></div>
            <div id="cont_mapa">
              <div id="mapaFitxa"></div> 
            </div>
          </div>
        </div>
      </div>

      <div id="tria_lloc">
        <div style="display:flex; align-items:center; height:10vh">
          <div id="desc_mapa" class="icona-16" style="padding:10px"></div>
        </div>
        <div id="mapaUbica" style="height:60vh"></div>
        <div id="div_boto_desa" style="display:flex; height:10vh">
          <button id="boto_desa_mapa" class="icona-16" style="width:100%; margin:5px"></button>
        </div>
      </div>

      <div id="registra">
        <div id="nou_registre" style="height:50%">
          <div class="icona-16">Registre manual de dades</div>
          <div>Nom de l'estació</div>
          <div>Data i Hora</div>
          <div style="width:80%;">
            <input id="autor" style="width:100%;" placeholder="Escriu el nom dels autors del registre" type="text" name="autor">
          </div>
          <div>
            <button id="enregistra">Enregistra les dades</button>
          </div>
        </div>
        <div id="entrada_dades" style="height:50%">
          <div id="menu-registra">
            <button class="boto-sup" onClick="registra_mesures();"><i class="wi wi-thermometer icona-24"></i></button>
            <button class="boto-sup" onClick="registra_vents();"><i class="wi wi-strong-wind icona-24"></i></button>
            <button class="boto-sup" onClick="registra_nuvols();"><i class="material-icons icona-24">cloud</i></button>
            <button class="boto-sup" onClick="registra_fenomens();"><i class="material-icons icona-24">check</i></button>
          </div>
          <div id="caixa_registra" style="display:flex;flex-direction:column;margin:5px">
            <div class="icona-16" style="align-self:center">REGISTRE DE DADES</div>
            <div id="temperatures" style="display:flex;justify-content:space-between;margin:10px">
              <div style="display:flex;flex-direction:column;align-items: center">
                <label style="text-align:center;color:blue">Temperatura<br>mínima</label>
                <div><select id="temp_min"></select> (ºC)</div>
              </div>
              <div style="display:flex;flex-direction:column;align-items: center">
                <label style="text-align:center">Temperatura<br>actual</label>
                <div><select id="temp_actual"></select> (ºC)</div>
              </div>
              <div style="display:flex;flex-direction:column;align-items: center">
                <label style="text-align:center;color:red">Temperatura<br>màxima</label>
                <div><select id="temp_max"></select> (ºC)</div>
              </div>
            </div>
            <div id="humitat_pressio" style="display:flex;justify-content:space-between;margin:10px">
              <div style="display:flex;flex-direction:column;align-items: center">
                <label style="text-align:center">Humitat<br>relativa</label>
                <div><select id="humitat_actual"></select> (%)</div>
              </div>
              <div style="display:flex;flex-direction:column;align-items: center">
                <label style="text-align:center">Pressió<br>atmosfèrica</label>
                <div><select id="press_actual"></select> (HPa)</div>
              </div>
              <div style="display:flex;flex-direction:column;align-items: center">
                <label>Tendència<br>baromètrica</label>
                <select id="tend_bar" style="width:75%">
                  <option selected="" value="">Tria ...</option>
                  <option value="Pujant molt ràpidament">Pujant molt ràpidament</option>
                  <option value="Pujant ràpidament">Pujant ràpidament</option>
                  <option value="Pujant lentament">Pujant lentament</option>
                  <option value="Estable">Estable</option><option value="Baixant lentament">Baixant lentament</option>
                  <option value="Baixant ràpidament">Baixant ràpidament</option>
                  <option value="Baixant molt ràpidament">Baixant molt ràpidament</option>
                </select> 
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="nuvols" style="justify-content:space-evenly">
        <div style="display:flex;flex-direction:row;justify-content:space-evenly">
          <div class="quadre"><img src="https://static-m.meteo.cat/wordpressweb/wp-content/uploads/2014/11/21084223/BIG_521555615022712_00.jpg" class="fotoNuvol" alt="Cirrus" title="Cirrus"><div class="bottom-left">Cirrus</div></div>         
          <div class="quadre"><img src="https://static-m.meteo.cat/wordpressweb/wp-content/uploads/2014/11/21084223/BIG_568565615022712_00.jpg" class="fotoNuvol" alt="Cirrocúmuls" title="Cirrocúmuls"><div class="bottom-left">Cirrocúmuls</div></div>
          <div class="quadre"><img src="https://static-m.meteo.cat/wordpressweb/wp-content/uploads/2014/11/21090417/BIG_037575615022712_00.jpg" class="fotoNuvol" alt="Altostrats"  title="Altostrats"><div class="bottom-left">Altostrats</div></div>
        </div>
        <div style="display:flex;flex-direction:row;justify-content:space-evenly">
          <div class="quadre"><img src="https://static-m.meteo.cat/wordpressweb/wp-content/uploads/2014/11/21090541/BIG_490575615022712_00.jpg" class="fotoNuvol" alt="Altocúmuls" title="Altocúmuls"><div class="bottom-left">Altocúmuls</div></div> 
          <video id="video" class="fotoNuvol"></video>
          <div class="quadre"><img src="https://static-m.meteo.cat/wordpressweb/wp-content/uploads/2014/11/21090655/BIG_005585615022712_00.jpg" class="fotoNuvol" alt="Nimbostrats" title="Nimbostrats"><div class="bottom-left">Nimbostrats</div></div> 
        </div>
        <div style="display:flex;flex-direction:row;justify-content:space-evenly">
          <div class="quadre"><img src="https://static-m.meteo.cat/wordpressweb/wp-content/uploads/2014/11/21084223/BIG_693585615022712_00.jpg" class="fotoNuvol" alt="Cumulonimbus" title="Cumulonimbus"><div class="bottom-left">Cumulonimbus</div></div> 
          <div class="quadre"><img src="https://static-m.meteo.cat/wordpressweb/wp-content/uploads/2014/11/21084223/BIG_115595615022712_00.jpg" class="fotoNuvol" alt="Cúmuls" title="Cúmuls"><div class="bottom-left">Cúmuls</div></div> 
          <div class="quadre"><img src="https://static-m.meteo.cat/wordpressweb/wp-content/uploads/2014/11/21091124/BIG_630595615022712_00.jpg" class="fotoNuvol" alt="Estratocúmuls" title="Estratocúmuls"><div class="bottom-left">Estratocúmuls</div></div> 
        </div>
      </div>
      <div id="vents" style="justify-content:space-evenly">
        <div style="display:flex;flex-direction:row;justify-content:space-evenly">
          <div class="quadre-vents"><img src="img/NO.png" class="fotoNuvol" alt="Mestral" title="Mestral"><div class="centered">Mestral</div></div>         
          <div class="quadre-vents"><img src="img/N.png" class="fotoNuvol" alt="Tramuntana" title="Tramuntana"><div class="centered">Tramuntana</div></div>
          <div class="quadre-vents"><img src="img/NE.png" class="fotoNuvol" alt="Gregal"  title="Gregal"><div class="centered">Gregal</div></div>
        </div>
        <div style="display:flex;flex-direction:row;justify-content:space-evenly">
          <div class="quadre-vents"><img src="img/O.png" class="fotoNuvol" alt="Ponent" title="Ponent"><div class="centered">Ponent</div></div> 
          <div class="quadre-vents"><img src="img/C.png" class="fotoNuvol" alt="Calma" title="Calma"><div class="centered">Calma</div></div> 
          <div class="quadre-vents"><img src="img/E.png" class="fotoNuvol" alt="Llevant" title="Llevant"><div class="centered">Llevant</div></div> 
        </div>
        <div style="display:flex;flex-direction:row;justify-content:space-evenly">
          <div class="quadre-vents"><img src="img/SO.png" class="fotoNuvol" alt="Lleveig" title="Lleveig"><div class="centered">Lleveig</div></div> 
          <div class="quadre-vents"><img src="img/S.png" class="fotoNuvol" alt="Migjorn" title="Migjorn"><div class="centered">Migjorn</div></div> 
          <div class="quadre-vents"><img src="img/SE.png" class="fotoNuvol" alt="Xaloc" title="Xaloc"><div class="centered">Xaloc</div></div> 
        </div>
      </div>
      <div id="fenAtm" style="justify-content:space-evenly">
        <div style="display:flex;flex-direction:row;justify-content:space-evenly">
          <div class="quadre"><img src="https://static-m.meteo.cat/wordpressweb/wp-content/uploads/2014/11/21082911/BIG_459395615022712_00.jpg" class="fotoNuvol" alt="Pluja" title="Pluja"><div class="top-left"><input type="checkbox" name="Pluja" value="Pluja">Pluja</div></div>         
          <div class="quadre"><img src="https://static-m.meteo.cat/wordpressweb/wp-content/uploads/2014/11/21084115/BIG_006495615022712_00.jpg" class="fotoNuvol" alt="Calamarsa" title="Calamarsa"><div class="top-left"><input type="checkbox" name="Calamarsa" value="Calamarsa">Calamarsa</div></div> 
          <div class="quadre"><img src="https://static-m.meteo.cat/wordpressweb/wp-content/uploads/2014/11/21084223/BIG_177515615022712_00.jpg" class="fotoNuvol" alt="Neu"  title="Neu"><div class="top-left"><input type="checkbox" name="Neu" value="Neu">Neu</div></div> 
        </div>
        <div style="display:flex;flex-direction:row;justify-content:space-evenly">
          <div class="quadre"><img src="http://static-m.meteo.cat/wordpressweb/wp-content/uploads/2014/11/21084223/BIG_459315615022712_00.jpg" class="fotoNuvol" alt="Rosada" title="Rosada"><div class="top-left"><input type="checkbox" name="Rosada" value="Rosada">Rosada</div></div>  
          <div class="quadre"><button style="width:33vw; height:26vh" class="icona-16">Desa els fenòmens atmosfèrics seleccionats</button></div> 
          <div class="quadre"><img src="https://static-m.meteo.cat/wordpressweb/wp-content/uploads/2014/11/21084223/BIG_584325615022712_00.jpg" class="fotoNuvol" alt="Gebre" title="Gebre"><div class="top-left"><input type="checkbox" name="Gebre" value="Gebre">Gebre</div></div> 
        </div>
        <div style="display:flex;flex-direction:row;justify-content:space-evenly">
          <div class="quadre"><img src="https://static-m.meteo.cat/wordpressweb/wp-content/uploads/2014/11/21080737/BIG_146335615022712_00.jpg" class="fotoNuvol" alt="Boira" title="Boira"><div class="top-left"><input type="checkbox" name="Boira" value="Boira">Boira</div></div>  
          <div class="quadre"><img src="https://static-m.meteo.cat/wordpressweb/wp-content/uploads/2014/11/21084115/BIG_396255615022712_00.jpg" class="fotoNuvol" alt="Arc de Sant Martí" title="Arc de Sant Martí"><div class="top-left"><input type="checkbox" name="Arc de Sant Martí" value="Arc de Sant Martí">Arc de Sant Martí</div></div>  
          <div class="quadre"><img src="https://static-m.meteo.cat/wordpressweb/wp-content/uploads/2014/11/21084223/BIG_552435615022712_00.jpg" class="fotoNuvol" alt="Llamp" title="Llamp"><div class="top-left"><input type="checkbox" name="Llamp" value="Llamp">Llamp</div></div> 
        </div>
      </div>
      <div id="sector-inferior">
        <div id="hr"></div>
        <div id="menu-inferior">
          <button id="boto_observacions" class="boto-inf" style="color:graytext;" onClick="login();" title="Observacions"><i class="material-icons icona-24">camera_alt</i></button>
          <button id="boto_estacions" class="boto-inf" style="color:#418ac8;" onClick="estacio();" title="Estacions"><i class="material-icons icona-24">router</i></button>
          <button id="boto_registra" class="boto-inf" style="color:graytext;" onClick="registra();" title="Registra"><i class="material-icons icona-24">bookmark</i></button>
          <button id="boto_prediccio" class="boto-inf" style="color:graytext;" onClick="prediccio();" title="Predicció"><i class="material-icons icona-24">cloud</i></button>
          <button id="boto_radar" class="boto-inf" style="color:graytext;" onClick="radar();" title="Radar"><i class="material-icons icona-24">wifi_tethering</i></button>
        </div>  
        <input type="file" style='display:none;' accept="image/*" id="fitxer" name="fitxer" capture="camera"/>
        <input type='file' style='display: none;' accept="image/jpeg" id="fitxer_galeria" name="fitxer_galeria" />
        <canvas id="canvas" style="display:none;"></canvas>
      </div>   

      <script type="text/javascript" src="js/index.js"></script>
      <script>
        if ('serviceWorker' in navigator) {
          window.addEventListener('load', function() {
            navigator.serviceWorker.register('sw.js').then(function(registration) {
              console.log('ServiceWorker registration successful with scope: ', registration.scope);
            }, function(err) {
              console.log('ServiceWorker registration failed: ', err);
            });
          });
        }
      </script>
    </body>
</html> 